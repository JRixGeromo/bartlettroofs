$(function(){function i(){var i=$("input[name=project-type]:checked").val(),r=$("#project-filter-city").val(),t="";$("#project-filter-employee").length&&(t=$("#project-filter-employee").val());var u=$("#project-filter-sort").val(),f=$("#past-projects-pagination").find(".active").val(),n="?";n+=i!==""?"&projectType="+i:"";n+=r!==""?"&city="+r:"";n+=t!==""?"&employee="+t:"";n+=u?"&sort="+u:"";n+=f?"&page="+f:"";n=n.replace("?&","?");history.replaceState(null,null,n)}function n(){var t=$("input[name=project-type]:checked").val(),i=$("#project-filter-city").val(),n=null;$("#project-filter-employee").length&&(n=$("#project-filter-employee").val());var r=$("#project-filter-sort").val(),u=$("#input-search-projects").val(),f=getUrlParameter("page");$("#project-list-container").addClass("d-none");$("#project-list-row-loading").removeClass("d-none");$.post("/ws/render-project-list/",{type:t,cityState:i,employee:n,sort:r,search:u,page:f}).done(function(n){$("#project-list-container").html(n);$("#project-list-container").removeClass("d-none");$("#project-list-row-loading").addClass("d-none");$(".match-height").matchHeight()})}function r(t){$(".project-page-click").removeClass("active");$("#project-page-click-"+t).addClass("active");i();n()}function u(){n()}var t="";$(".select-filter").on("change",function(){i();n()});$("input[type=radio][name=project-type]").on("change",function(){i();n()});$("#btn-search-projects").on("click",function(){n()});$("#input-search-projects").on("keyup",function(i){var r=$("#input-search-projects").val();i.keyCode===13&&(n(),t=r);r!==""?$("#btn-search-clear").removeClass("d-none"):$("#btn-search-clear").addClass("d-none")});$("#btn-search-clear").on("click",function(){$("#input-search-projects").val("");$("#btn-search-clear").addClass("d-none");t!==""&&(n(),t="")});$(document).on("click",".project-page-click",function(n){if(n.preventDefault(),!$(this).hasClass("active")){var t=$(this).val();r(t)}return!1});$(document).on("click","#project-page-next",function(n){n.preventDefault();var t=$(".project-page-click.active").val();return r(t+1),!1});$(document).on("click","#project-page-prev",function(n){n.preventDefault();var t=$(".project-page-click.active").val();return r(t-1),!1});u()});