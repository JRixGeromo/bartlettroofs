/*!
 * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function saveCookie(n,t,i,r){var u=new Date,f;u.setTime(u.getTime());i&&(i=i*864e5);f=new Date(u.getTime()+i);document.cookie=n+"="+escape(t)+(i?";expires="+f.toUTCString():"")+";path="+r+";samesite=lax"}function getCookie(n){var i=document.cookie.indexOf(n+"="),r=i+n.length+1,t;return!i&&n!=document.cookie.substring(0,n.length)?null:i==-1?null:(t=document.cookie.indexOf(";",r),t==-1&&(t=document.cookie.length),unescape(document.cookie.substring(r,t)))}function readCookie(n){var t=RegExp(""+n+"[^;]+").exec(document.cookie);return decodeURIComponent(!t?"":t.toString().replace(/^[^=]+./,""))}function deleteCookie(n){document.cookie=n+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function queryString(n){if(hu=window.location.search.substring(1),r="",hu!=""){for(gy=hu.split("&"),i=0;i<gy.length;i++)ft=gy[i].split("="),ft[0]==n&&(r=ft[1]);return r}return""}function parseQueryString(n,t){if(r="",n!=""){for(gy=n.split("&"),i=0;i<gy.length;i++)ft=gy[i].split("="),ft[0]==t&&(r=ft[1]);return r}return""}function queryStringMvc(n){var i=new RegExp("\\/"+n+"\\.(.+?)\\/","i"),t=i.exec(window.location.href);return t?t[1]:""}function regExMatch(n,t,i){var r=n.exec(t);return r?r[i]:""}function getFormVal(n){var t=encodeURIComponent($.trim($("#"+n).val()));return t=="undefined"?"":t}function getCurrentUrl(n){if(arguments.length>0&&n)return window.location.pathname;var i=window.location,t=window.location.port;return i.protocol+"//"+i.hostname+(t!=""&&t!="80"&&t!="443"?":"+t:"")+i.pathname}function getCheckVal(n){var t=$("#"+n);return t.is(":checked")?encodeURIComponent(t.val()):""}function getCheckValGroup(n){var t="";return $("input[name='"+n+"']:checked").each(function(){t+=t?","+$(this).val():$(this).val()}),t}function getRadioVal(n){return encodeURIComponent($("input[name='"+n+"']:checked").val())}function disableButton(n,t){var i=$("#"+n);i.attr("data-orig-text",i.html());i.html(t);i.attr("disabled","disabled").addClass("disabled")}function reenableButton(n){var t=$("#"+n);t.html(t.attr("data-orig-text"));t.removeAttr("data-orig-text").removeAttr("disabled").removeClass("disabled")}function getSecToken(){return encodeURIComponent($("input[name=__RequestVerificationToken]").val())}function getSecTokenRaw(){return $("input[name=__RequestVerificationToken]").val()}function serializeSecToken(n){return n==!0?"__RequestVerificationToken="+getSecToken():"&__RequestVerificationToken="+getSecToken()}function handleResponseError(n){isAdmin=window.location.toString().indexOf("/admin")>-1?!0:!1;n.errType?window.location=(isAdmin?"/admin":"")+"/error/?err="+n.errType:n.redirect&&(window.location=n.redirect)}function formObj(){this.onStart=function(){disableButton(this.button,this.disabledText)};this.reenableForm=function(){reenableButton(this.button)};this.clearFields=function(){$("#"+this.button).closest("form").find("input").each(function(){var n=$(this),t;n.val("");n.attr("type")=="password"&&(t=$("#"+n.attr("id")+"-temp"),t.length>0&&(n.hide(),t.show()))})};this.onSuccess=function(){var n=this.resp;return n.errType?window.location=(this.isAdmin?"/admin":"")+"/error/?err="+n.errType:n.redirect?window.location=n.redirect:this.callback(n),n.IsValid?(this.formRedirects||this.reenableForm(),unhideCode(this.button),(!n.Data||n.Data&&!n.Data.overrideReset==!0)&&resetAction(this.button)):this.reenableForm(),!1};this.initForm=function(n){var t=this;$("#"+t.button).click(function(){if(!$(this).is(":visible")&&t.checkButtonVisibility||n&&!confirm(n))return!1;try{return removeFeedback(),t.onStart(),$.ajax({type:"POST",cache:!1,dataType:"json",url:t.service,data:t.data()+serializeSecToken(),timeout:t.timeout,success:function(n){t.resp=n;t.onSuccess()},error:function(){alert("An error occurred");t.reenableForm()}}),!1}catch(i){return t.reenableForm(),!1}})}}function showPopover(n,t,i,r){var u=$("#"+n),f,o,e;i&&!u.is(":visible")&&(u=$("#"+i));r&&!u.is(":visible")&&(u=$("#"+r));f=u.data("popover");f?(f.$tip.find(".content p").html(t),f.$tip.show()):(u.popover({content:t,trigger:"manual"}),u.popover("show"),window.pageYOffset>0&&(o=u.data("popover").$tip,e=parseInt(o.css("top").replace("px","")),e=e-window.pageYOffset,o.css("top",e+"px")))}function showAlert(n,t,i,r){i||(i="alert-error");t||(t="fas fa-times-circle mr-2");r||(r="alert");$("#"+r).after('<div class="alert '+i+'"><i class="'+t+'"><\/i>&nbsp;'+n+"<\/div>");window.location="#"}function showValidationError(n,t,i){var r,u,f;arguments.length===3?(u=$("#"+i+""),n=="service"&&u.find("#btn-services-dropdown").length&&(n="btn-services-dropdown"),r=u.find("#"+n+"")):r=$("#"+n+"");document.location.href.indexOf("/admin/")>-1?(r.closest(".control-group").addClass("error"),t&&(r.after('<span class="help-inline">'+t+"<\/span>"),f=r.closest(".controls"),f.children(".code").hide())):(r.closest(".form-group").addClass("has-error"),r.is("input")&&(r.is("input[type=hidden],input[type=checkbox]")||r.closest(".form-group").length&&(r.closest(".form-group").addClass("has-feedback"),r.after("<span class='fal fa-exclamation-circle form-control-feedback' aria-hidden='true'><\/span>"))))}function fieldInvalid(n,t){var i=n.closest(".form-group");t||i.hasClass("has-error")?t&&(i.removeClass("has-error has-feedback"),i.find(".form-control-feedback").remove()):(i.addClass("has-error has-feedback"),n.after("<span class='fal fa-exclamation-circle form-control-feedback' aria-hidden='true'><\/span>"))}function hideValidationError(n){var t=$("#"+n+"");document.location.href.indexOf("/admin/")>-1&&(t.closest(".control-group").removeClass("error"),t.next(".help-inline").remove(),t.closest(".controls").children(".code").show())}function showValidationErrorField(n){var t=$("#"+n+"");t.addClass("error")}function showUploaderValidationError(n){var t=$(".uploadify-button-text");t.text(n);t.css("color","#B94A48");t.closest(".control-group").addClass("error")}function showEditorValidationError(n,t){t||(t=$(".sun-editor"));t.css("border","1px solid #B94A48");t.closest(".control-group").addClass("error");n&&t.after('<span class="help-inline">'+n+"<\/span>")}function showDateTimeValidationError(n,t){var i=$("#"+n+"");i.length&&(i.css("border","1px solid #B94A48"),i.closest(".control-group").addClass("error"),t&&i.closest(".form-group").append('<span class="help-inline">'+t+"<\/span>"))}function unhideCode(n){$("#"+n).closest("form").find(".code").show()}function resetAction(n){$("#"+n).closest("form").find("input[id$='action']").val("edit")}function removeFeedback(){$(".uploadify-button-text").css("color","#333333");$(".sun-editor").css("border","1px solid #DDDDDD");$(".error").removeClass("error");$(".has-error").removeClass("has-error");$(".has-feedback").removeClass("has-feedback");$(".form-control-feedback").remove();$(".help-inline:not([class*='no-clear'])").remove();$(".help-block:not([class*='no-clear'])").remove();$(".alert:not([class*='no-clear'])").hide()}function getSafeHtml(n){var t=$("#"+n).val();return t=encodeURIComponent(t),t.replace(/%/g,"~")}function convertSafeHtml(n){return n=encodeURIComponent(n),n.replace(/%/g,"~")}function decodeSafeHtml(n){return n=n.replace(/~/g,"%"),decodeURIComponent(n)}function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n)}function trim(n,t){while(n.substring(0,1)==t)n=n.substring(1);while(n.substring(n.length-1)==t)n=n.substring(0,n.length-1);return n}function isHTML5UploadEnabled(){return typeof FormData!="undefined"}function initUpload(n,t,i){var r=n?$(n):$(".file-upload");r.length>0&&r.each(function(n,r){function ut(){var n;return $.ajax({type:"POST",cache:!1,dataType:"json","async":!1,url:"/ws/file/upload-token/",data:serializeSecToken(),success:function(t){t.Ok?n=t.token:handleResponseError(t)},error:function(){alert("An error occurred")}}),n}function h(n){if(nt++,p){var t=Math.random().toString(36).substring(2);v.append('<div id="Err_'+t+'" class="alert alert-error" style="margin-bottom: 5px; line-height: 150%">'+n+"<\/div>");setTimeout(function(){v.find("#Err_"+t).fadeOut("fast",function(){$(this).remove()})},5e3)}else alert(n)}var u=$(r),c=u.attr("id"),nt,s,a;c||(c="file-upload-"+n,u.attr("id",c));var ft=u.closest("form"),tt=u.attr("id")+"-queue",v=ft.find(".file-upload-queue").attr("id",tt),p=v.length>0?!0:!1,k=u.attr("id")+"-thumbnail",e=u.attr("id")+"-file",o=$("#"+k).length?$("#"+k):u.parent().find(".file-upload-thumbnail").attr("id",k),it=o.length>0?!0:!1,w=u.attr("data-size-limit"),d=parseInt(u.attr("data-file-limit")),b=u.attr("data-button-class"),y=u.attr("data-button-text"),rt=u.attr("data-uploader-path"),et=u.attr("data-filetype-desc"),g=u.attr("data-filetype-exts"),f=u.attr("data-redirect"),ot=u.attr("data-no-reenable"),l;if(o.length&&o.attr("src")==""&&o.hide(),u.hide(),nt=0,isHTML5UploadEnabled()){s=$(".uploader-btn[for='"+c+"']");s.length===0&&(u.after("<label for='"+c+"' class='uploader-btn "+b+"'>"+y+"<\/label>"),s=$(".uploader-btn[for='"+c+"']"));d>1&&u.attr("multiple","multiple");g&&u.attr("accept",g.replace(/\*/g,"").replace(/\;/g,","));a=function(){var n=!1;return i&&typeof i=="function"&&(n=i(),n||s.removeClass("disabled")),n&&(s.text(y),s.addClass("disabled")),n};function n(){s.text(y);a()||s.removeClass("disabled")}a();u.on("change",function(i){var c,r,p;if(!a()){c=i.target.files;s.addClass("disabled");s.text("Uploading...");r="";u[0].hasAttribute("data-filetype-exts")&&(r=u.attr("data-filetype-exts").replace(/\*/g,"").split(";").filter(n=>n));var b=0,v=0,y=0;$.each(c,function(n,i){var k,d;if(!a()){var f=c[b++],s=new FormData,p=0;r!=="undefined"&&r!==""&&r.length>0&&(k=f.name.substr(f.name.lastIndexOf(".")),p=$.inArray(k,r));p>=0?w===""||f.size<w*1048576?(d=ut(function(){}),s.append("token",d),s.append("fileId",e),s.append("Filename",f.name),s.append("Filedata",i),y++,$.ajax({url:rt,enctype:"multipart/form-data",type:"POST",data:s,cache:!1,processData:!1,contentType:!1,success:function(n){typeof n.error=="undefined"?(t&&typeof t=="function"?t(u,f,n):(l=f.name,n==="error"?h("An error occurred processing "+f.name):n==="size-error"?h("Incorrect file size(W X H) used."):it?(o.attr("src",u.attr("data-thumbnail-url")+n),o.attr("data-filename",n),o.show()):e&&($("#"+e).attr("data-filename",n),$("#"+e).is("a")&&($("#"+e).attr("href",u.attr("data-thumbnail-url")+n),$("#"+e).show(),$("#"+e+"-delete").show()))),a()):h("An error occurred processing "+f.name);v++},error:function(){h("An error occurred processing "+f.name)}})):alert(f.name+" Exceeds file size limit "+w+" MB."):alert(f.name+" not allowed. Please use following file types: "+r)}});p=setInterval(function(){y===v&&(clearInterval(p),f&&f!==""?(f.indexOf("{lastFile}")>-1&&(f=l?f.replace("{lastFile}",encodeURIComponent(l)):""),window.location=f):n())},1e3);u.val("")}})}else{function n(){u.uploadify("settings","buttonText",y);u.uploadify("settings","buttonClass",b);u.uploadify("disable",!1)}u.uploadify({buttonClass:b,width:190,height:34,buttonText:y,progressData:"percentage",swf:"/js/lib/uploadify.swf",uploader:rt,queueID:p?tt:!1,auto:!0,fileTypeDesc:et,fileTypeExts:g,queueSizeLimit:d,multi:d>1?!0:!1,fileSizeLimit:w+"MB",removeTimeout:1,successTimeout:180,overrideEvents:["onDialogClose"],itemTemplate:p?'<div id="${fileID}" class="alert alert-success" style="margin-bottom: 5px; line-height: 150%"><button type="button" class="close" onclick="$(\'#${instanceID}\').uploadify(\'cancel\', \'${fileID}\')">&#215;<\/button><span class="fileName">${fileName} (${fileSize})<\/span><span class="data"><\/span><\/div>':null,onFallback:function(){h("You need Flash installed to upload files")},onUploadSuccess:function(n,i){t&&typeof t=="function"?t(u,n,i):(l=n.name,i==="error"?h("An error occurred processing "+n.name):it?(o.attr("src",u.attr("data-thumbnail-url")+i),o.attr("data-filename",i),o.show(),u.trigger("uploaded",i)):e&&($("#"+e).data("data-filename",i),u.trigger("uploaded",i)))},onUploadStart:function(){var n=!1,t;i&&typeof i=="function"&&(n=i());n||(t=ut(),u.uploadify("settings","formData",{token:t,fileId:e}),u.uploadify("settings","buttonText","Uploading..."),u.uploadify("settings","buttonClass",b+" disabled"),u.uploadify("disable",!0))},onQueueComplete:function(){ot!="true"&&n();i&&typeof i=="function"&&i()&&u.uploadify("disable",!0)},onDialogClose:function(t){if(t.filesErrored>0&&h(t.errorMsg),p&&f)var i=setInterval(function(){var t=v.find("div[id^='SWFUpload']").length,r=v.find("div[id^='Err_']").length;t==0&&r==0&&(clearInterval(i),f.indexOf("{lastFile}")>-1&&(f=l?f.replace("{lastFile}",encodeURIComponent(l)):""),f!=""&&nt==0?window.location=f:n())},100);return!1},onSWFReady:function(){i&&typeof i=="function"&&i()&&u.uploadify("disable",!0)}})}})}function getCombinedAlert(n){var t="";for(var i in n.ErrFields)t+=(t==""?"* ":"\n* ")+n.ErrFields[i].replace(/^\*/,"");return t}function isIE(){var u,t=-1,n=window.navigator.userAgent,i=n.indexOf("MSIE "),f=n.indexOf("Trident/"),r;return i>0?t=parseInt(n.substring(i+5,n.indexOf(".",i)),10):f>0&&(r=n.indexOf("rv:"),t=parseInt(n.substring(r+3,n.indexOf(".",r)),10)),t>-1?t:u}function googleAutoComplete(n,t,i,r){var u=n.find(t),f;u&&(f=getGoogleMapsAPIKey(),(i===undefined||i===null||i==="")&&(i="address"),(r===undefined||r===null||r==="")&&(r=""),$.getScript("https://maps.googleapis.com/maps/api/js?key="+f+"&libraries=places",function(){var n=new window.google.maps.places.Autocomplete(u.get(0),{types:[i]}),f;n.setComponentRestrictions({country:["us","ca"]});n.addListener("place_changed",function(){var t=n.getPlace();u.val(t.formatted_address);u.attr("data-place-id",t.place_id);populateAddressHiddenFields(t.formatted_address,t.place_id,i,r)});f=function(){$(t).attr("autocomplete")==="off"?$(t).attr("autocomplete","none"):setTimeout(f,100)};f();$(window).load(function(){$(t).attr("autocomplete","none")});u.on("focusout",function(){var n=$(this).val(),t=$(this).attr("data-place-id");populateAddressHiddenFields(n,t,i,r)})}))}function parseGoogleAddress(n){var i=n?n.address_components:null,u=n?n.partial_match===!0?!0:!1:!1,t,r;if(this.address1="",this.address2="",this.city="",this.longcity="",this.neighborhood="",this.state="",this.county="",this.township="",this.zip="",this.country="",this.latitude="",this.longitude="",this.formatted_address="",i&&u===!1){for(t=0;t<i.length;t++)r=i[t].types[0],r==="street_number"?this.address1=i[t].short_name:r==="route"?this.address1+=" "+i[t].short_name:r==="locality"?(this.city=i[t].short_name,this.longcity=i[t].long_name):r==="administrative_area_level_1"?this.state=i[t].short_name:r==="administrative_area_level_2"?this.county=i[t].short_name:r==="administrative_area_level_3"?this.township=i[t].short_name:r==="postal_code"?this.zip=i[t].short_name:r==="country"?(this.country=i[t].short_name,this.country==="US"&&(this.country="USA")):r==="subpremise"?this.address2=i[t].short_name:r==="neighborhood"&&(this.neighborhood=i[t].short_name);this.city===""&&(this.neighborhood!==""?this.city=this.neighborhood:this.township!==""&&(this.city=this.township));this.formatted_address=n.formatted_address;this.latitude=n.geometry.location.lat();this.longitude=n.geometry.location.lng()}}function bestMatchedGoogleAddress(n){var t=n.length>0?n[0]:null;return n.length>1&&$.each(n,function(i){var r=[];return n[i].address_components.findIndex(function(n){n.types.indexOf("street_number")>-1?r.push("street_number"):n.types.indexOf("route")>-1?r.push("route"):n.types.indexOf("locality")>-1?r.push("locality"):n.types.indexOf("administrative_area_level_1")>-1?r.push("administrative_area_level_1"):n.types.indexOf("postal_code")>-1?r.push("postal_code"):n.types.indexOf("country")>-1&&r.push("country")}),r.includes("street_number")&&r.includes("route")&&r.includes("locality")&&r.includes("administrative_area_level_1")&&r.includes("postal_code")&&r.includes("country")?(t=n[i],!1):void 0}),t}function populateAddressHiddenFields(n,t,i,r,u){var f,e;if((i===undefined||i===null||i==="")&&(i="address"),(r===undefined||r===null||r==="")&&(r=""),(t===undefined||t===null)&&(t=""),f=function(n){n==="address"?($("#g-"+r+"address1").val(""),$("#g-"+r+"address2").val(""),$("#g-"+r+"city").val(""),$("#g-"+r+"state").val(""),$("#g-"+r+"zip").val(""),$("#g-"+r+"country").val(""),$("#g-"+r+"latitude").val(""),$("#g-"+r+"longitude").val(""),$("#g-"+r+"neighborhood").length&&$("#g-"+r+"neighborhood").val(""),$("#g-"+r+"fromcity").length&&$("#g-"+r+"fromcity").val(""),$("#g-"+r+"fromstate").length&&$("#g-"+r+"fromstate").val(""),$("#g-"+r+"fromzip").length&&$("#g-"+r+"fromzip").val(""),$("#g-"+r+"county").length&&$("#g-"+r+"county").val("")):n==="(regions)"&&($("#g-"+r+"tocity").val(""),$("#g-"+r+"tostate").val(""),$("#g-"+r+"tozip").val(""),$("#g-"+r+"tocountry").val(""))},n===""){f(i);return}if(t===""){if(u!==undefined){u();return}return}e=new window.google.maps.Geocoder;e.geocode({placeId:t},function(t,e){var c,s,l,o,h;e==="OK"?i==="(regions)"?(c=t.length>0?t[0]:null,s=new parseGoogleAddress(c),s.formatted_address!==""?(h=!0,n.toLowerCase().includes(s.city.toLowerCase())?$(`#g-${r}tocity`).val(s.city):n.toLowerCase().includes(s.longcity.toLowerCase())?$(`#g-${r}tocity`).val(s.city):h=!1,n.toLowerCase().includes(s.state.toLowerCase())?$(`#g-${r}tostate`).val(s.state):h=!1,n.toLowerCase().includes(s.zip)?$(`#g-${r}tozip`).val(s.zip):h=!1,n.toLowerCase().includes(s.country.toLowerCase())?$(`#g-${r}tocountry`).val(s.country):h=!1,h||f(i)):f(i)):(l=bestMatchedGoogleAddress(t),o=new parseGoogleAddress(l),o.formatted_address!==""?(h=!0,$(`#g-${r}address1`).val(o.address1),$(`#g-${r}address2`).val(o.address2),$(`#g-${r}city`).val(o.city),$(`#g-${r}neighborhood`).val(o.neighborhood),n.toLowerCase().includes(o.state.toLowerCase())?$(`#g-${r}state`).val(o.state):h=!1,n.toLowerCase().includes(o.zip.toLowerCase())?$(`#g-${r}zip`).val(o.zip):h=!1,n.toLowerCase().includes(o.country.toLowerCase())?$(`#g-${r}country`).val(o.country):h=!1,$(`#g-${r}latitude`).val(o.latitude),$(`#g-${r}longitude`).val(o.longitude),$(`#g-${r}fromcity`).val(o.city),$(`#g-${r}fromstate`).val(o.state),$(`#g-${r}fromzip`).val(o.zip),$(`#g-${r}county`).val(o.county),h||f(i)):f(i)):f(i);u!==undefined&&u()})}function checkWebNotificationPermission(){"Notification"in window&&Notification.permission!=="denied"&&Notification.requestPermission()}function checkIfWebNotificationExists(n){var t=!1;return $.lstWebNotification&&(t=$.lstWebNotification.map(function(n){return n.id}).indexOf(n)>-1),t}function removeWebNotificationFromList(n){if($.lstWebNotification){var t=$.lstWebNotification.map(function(n){return n.id}).indexOf(n);$.lstWebNotification.splice(t,1)}}function closeWebNotification(n){checkIfWebNotificationExists(n)&&$.lstWebNotification&&$.each(lstWebNotification,function(t,i){i.id==n&&i.notification.close()})}function showWebNotification(n,t,i,r,u,f){function o(n,t,i,r,u){if(e=!0,!checkIfWebNotificationExists(n)){var o=new Notification(t,{body:i,icon:r,requireInteraction:!0,tag:n});u&&typeof u=="function"&&(o.onclick=function(){u()});f&&setTimeout(function(){o.close()},f);$.lstWebNotification||($.lstWebNotification=[]);$.lstWebNotification.push({id:n,notification:o});o.onclose=function(){removeWebNotificationFromList(n)}}}var e=!1;return"Notification"in window?Notification.permission==="granted"?o(n,t,i,r,u):Notification.permission!=="denied"&&Notification.requestPermission().then(function(f){f==="granted"&&o(n,t,i,r,u)}):e=!1,e}function getGoogleMapsAPIKey(){var n="";return $.ajax({type:"POST",cache:!1,dataType:"json","async":!1,url:"/ws/googlemaps-apikey/",data:serializeSecToken(),success:function(t){n=t}}),n}function UpdateQueryString(n,t,i){var u,r,f;return i||(i=window.location.href),u=new RegExp("([?&])"+n+"=.*?(&|#|$)(.*)","gi"),u.test(i)?typeof t!="undefined"&&t!==null?i.replace(u,"$1"+n+"="+t+"$2$3"):(r=i.split("#"),i=r[0].replace(u,"$1$3").replace(/(&|\?)$/,""),typeof r[1]!="undefined"&&r[1]!==null&&(i+="#"+r[1]),i):typeof t!="undefined"&&t!==null?(f=i.indexOf("?")!==-1?"&":"?",r=i.split("#"),i=r[0]+f+n+"="+t,typeof r[1]!="undefined"&&r[1]!==null&&(i+="#"+r[1]),i):i}function addParameterToURL(n){return _url=location.href,_url+=(_url.split("?")[1]?"&":"?")+n}function GenerateGUID(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&3|8).toString(16)})}function getUrlParameter(n){const u=window.location.search.substring(1),r=u.split("&");for(var t,i=0;i<r.length;i++)if(t=r[i].split("="),t[0]===n)return t[1]===undefined?!0:decodeURIComponent(t[1]);return null}function initCharCounter(){$.each($(".char-counter"),function(n,t){var r=$(t),u=r.attr("data-input-id"),f=r.attr("data-count"),i;if(u!==""&&f!==""&&(i=$("#"+u),i.length)){i.attr("maxlength",f);r.html(i.val().length);i.on("keyup",function(){r.html($(this).val().length)})}})}function initValidateFields(){var n=$('input[name="form"]');n.length&&$.each(n,function(n,t){$.post("/ws/form-check-validation/",{formName:t.value},function(n){if(n){var i=$(t.closest("form"));if(!i.length)return!1;i.on("focusout validate",":input",function(n){var r=$(this);setTimeout(function(){var u,f,o,e;if(r.attr("type")==="file"&&n.type==="focusout")return!1;u=new FormData;$.each(i.serializeArray(),function(n,t){u.append(t.name,t.value)});i.find("input[type='file']").length&&(f=i.find("input[type='file']"),$.each($(f)[0].files,function(n,t){u.append($(f)[0].name,t)}),o=$.map($(f)[0].files,function(n){return n.name}).join(","),u.append("filename",o));$(".form-selected-service:checked").length&&(e=[],$.each($(".form-selected-service:checked"),function(){e.push($(this).val())}),u.append("service",e));u.append("fieldName",r.attr("name"));u.append("formName",t.value);$.ajax({type:"POST",cache:!1,dataType:"json",url:"/ws/form-validate-field/",data:u,processData:!1,contentType:!1,success:function(n){fieldInvalid(r,n)}})},450)})}})})}function initRatings(){$(".rating-selector").each(function(n){var t=$(this).attr("id"),i;t=t?t+"-value":"rating-hidden-"+(n+1);$("#"+t).length<=0&&(i=0,$(this).find("a").each(function(){$(this).hasClass("yes-value")&&i++}),$(this).append('<input id="'+t+'" name="'+t+'" type="hidden" value="'+i+'"/>'));$(this).find("a").each(function(){$(this).on("click",function(){$(this).siblings("a").removeClass("yes-value");$(this).nextAll("a").addClass("yes-value");$(this).addClass("yes-value");var n=5-$(this).index();$("#"+t).val(n)})});$(this).on("mouseenter",function(){$(this).find("a").removeClass("yes-value")});$(this).on("mouseleave",function(){var n=$("#"+t).val();$(this).find("a").each(function(t,i){t>=5-n&&n!=0&&$(i).addClass("yes-value")})})})}function initLazy(){if($(".lazyload").length){$(window).on("scroll",function(){n()});n();function n(){var n=$(window).scrollTop()+$(window).height();$(".lazyload").each(function(){var t=$(this).offset().top,i=$(this).attr("data-src");n>t&&$(this).removeClass("lazyload").attr("src",i).removeAttr("data-src")})}}}function initMultiSelection(){$(".services-dropdown-menu input").on("change",function(){var n=[];$(".form-selected-service:checked").each(function(){n.push("<span class='badge'>"+$(this).val()+"<\/span>")});n.length?$("#btn-services-dropdown div").html(n):$("#btn-services-dropdown div").html("Project Type")});$(".services-dropdown-menu input").trigger("change");$(".services-dropdown-menu").on("click",function(n){n.stopPropagation()})}(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function s(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in u)i.test(r)&&(e=r.replace(o,s),f[e]=u[r]);return f}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.inputField.length;this.component&&this.component.length===0&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,a,e,s,v,r,i;f.prototype={constructor:f,_resolveViewName:function(n,i){return n===0||n==="days"||n==="month"?0:n===1||n==="months"||n==="year"?1:n===2||n==="years"||n==="decade"?2:n===3||n==="decades"||n==="century"?3:n===4||n==="centuries"||n==="millennium"?4:i===t?!1:i},_check_template:function(i){try{if(i===t||i==="")return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(u){return!1}},_process_options:function(t){var f,o,l,e,c;if(this._o=n.extend({},this._o,t),f=this.o=n.extend({},this._o),o=f.language,r[o]||(o=o.split("-")[0],r[o]||(o=s.language)),f.language=o,f.startView=this._resolveViewName(f.startView,0),f.minViewMode=this._resolveViewName(f.minViewMode,0),f.maxViewMode=this._resolveViewName(f.maxViewMode,4),f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),f.multidate!==!0&&(f.multidate=Number(f.multidate)||!1,f.multidate!==!1&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),f.startDate!==-Infinity&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language,f.assumeNearbyYear):-Infinity),f.endDate!==Infinity&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language,f.assumeNearbyYear):Infinity),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled)||(f.datesDisabled=[f.datesDisabled]),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language,f.assumeNearbyYear)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&c!=="auto")if(e.length===1)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var a=f.defaultViewDate.year||(new Date).getFullYear(),v=f.defaultViewDate.month||0,y=f.defaultViewDate.day||1;f.defaultViewDate=u(a,v,y)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0];n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.hasInput?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.inputField.prop("disabled")&&(!this.inputField.prop("readonly")||this.o.enableOnReadonly!==!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&n.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)i=window.clipboardData.getData("Text");else return;this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return typeof n!="undefined"?new Date(n):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),remove:c("destroy"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var r,y,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c=this.o.container==="body"?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");t!=="auto"&&t!==0&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return this.o.container!=="body"&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,r==="auto"&&(y=-c+i-s,r=y<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),r==="top"?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)>-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),i="",n=0,u;n<12;)u=t&&t.getMonth()===n?" focused":"",i+='<span class="month'+u+'">'+r[this.o.language].monthsShort[n++]+"<\/span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s,h){var w,b,y,k,d,g,a,v,l,p,c;for(w="",b=this.picker.find(i),y=parseInt(e/u,10)*u,d=parseInt(o/f,10)*f,g=parseInt(s/f,10)*f,k=n.map(this.dates,function(n){return parseInt(n.getUTCFullYear()/f,10)*f}),b.find(".datepicker-switch").text(y+"-"+(y+f*9)),a=y-f,v=-1;v<11;v+=1)l=[r],p=null,v===-1?l.push("old"):v===10&&l.push("new"),n.inArray(a,k)!==-1&&l.push("active"),(a<d||a>g)&&l.push("disabled"),a===this.viewDate.getFullYear()&&l.push("focused"),h!==n.noop&&(c=h(new Date(a,0,1)),c===t?c={}:typeof c=="boolean"?c={enabled:c}:typeof c=="string"&&(c={classes:c}),c.enabled===!1&&l.push("disabled"),c.classes&&(l=l.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),w+='<span class="'+l.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+a+"<\/span>",a+=f;b.find("td").html(w)},fill:function(){var p=new Date(this.viewDate),o=p.getUTCFullYear(),k=p.getUTCMonth(),a=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,it=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,v=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,rt=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",et=r[this.o.language].titleFormat||r.en.titleFormat,y,e,f,w,h,c,s,nt,l,tt;if(!isNaN(o)&&!isNaN(k)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(p,et,this.o.language)),this.picker.find("tfoot .today").text(ut).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(ft).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(this.o.title!==""),this.updateNavArrows(),this.fillMonths(),f=u(o,k-1,28),w=i.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),f.getUTCFullYear()<100&&h.setUTCFullYear(f.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];f.valueOf()<h;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var d=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),g=new Date(Number(d)+(11-d.getUTCDay())%7*864e5),b=new Date(Number(b=u(g.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ot=(g-b)/6048e5+1;c.push('<td class="cw">'+ot+"<\/td>")}s=this.getClassNames(f);s.push("day");this.o.beforeShowDay!==n.noop&&(e=this.o.beforeShowDay(this._utc_to_local(f)),e===t?e={}:typeof e=="boolean"?e={enabled:e}:typeof e=="string"&&(e={classes:e}),e.enabled===!1&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(y=e.tooltip));s=n.isFunction(n.uniqueSort)?n.uniqueSort(s):n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+f.getUTCDate()+"<\/td>");y=null;f.getUTCDay()===this.o.weekEnd&&c.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));nt=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?nt:o).end().find("span").removeClass("active");n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")});(o<a||o>v)&&l.addClass("disabled");o===a&&l.slice(0,it).addClass("disabled");o===v&&l.slice(rt+1).addClass("disabled");this.o.beforeShowMonth!==n.noop&&(tt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=tt.o.beforeShowMonth(f);u===t?u={}:typeof u=="boolean"?u={enabled:u}:typeof u=="string"&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,1,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,c,o,e,f,s,l,a;t.preventDefault();t.stopPropagation();r=n(t.target);r.hasClass("datepicker-switch")&&this.showMode(1);a=r.closest(".prev, .next");a.length>0&&(c=i.modes[this.viewMode].navStep*(a.hasClass("prev")?-1:1),this.viewMode===0?(this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,c),this.viewMode===1&&this._trigger("changeYear",this.viewDate)),this.fill());r.hasClass("today")&&!r.hasClass("day")&&(this.showMode(-2),this._setDate(h(),this.o.todayBtn==="linked"?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("day")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")&&(f===0?(f=11,e=e-1,s=!0,l=!0):(f=f-1,s=!0)),r.hasClass("new")&&(f===11?(f=0,e=e+1,s=!0,l=!0):(f=f+1,s=!0)),this._setDate(u(e,f,o)),l&&this._trigger("changeYear",this.viewDate),s&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(u(e,f,o))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),this.o.minViewMode===3&&this._setDate(u(e,f,o))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),this.o.minViewMode===4&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n));t&&t!=="view"||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&t==="view"||this._trigger("changeDate");this.inputField&&this.inputField.change();this.o.autoclose&&(!t||t==="date")&&this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,t*7)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s===1)u=t===-1?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),(r<0||r>11)&&(r=(r+12)%12);else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(!this.picker.is(":visible")){(n.keyCode===40||n.keyCode===27)&&(this.show(),n.stopPropagation());return}var u=!1,t,i,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;t=n.keyCode===37||n.keyCode===38?-1:1;this.viewMode===0?n.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):n.keyCode===37||n.keyCode===39?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):this.viewMode===1?((n.keyCode===38||n.keyCode===40)&&(t=t*4),i=this.moveAvailableDate(r,t,"moveMonth")):this.viewMode===2&&((n.keyCode===38||n.keyCode===40)&&(t=t*4),i=this.moveAvailableDate(r,t,"moveYear"));i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),typeof f!="undefined")){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(e!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])while(r>=0&&i<this.dates[r])this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])while(u<o&&i>this.dates[u])this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;e=function(i){var u=Array.apply(null,arguments),r;if(u.shift(),this.each(function(){var h=n(this),t=h.data("datepicker"),c=typeof i=="object"&&i;if(!t){var l=w(this,"date"),a=n.extend({},s,l,c),v=b(a.language),e=n.extend({},s,v,l,c);h.hasClass("input-daterange")||e.inputs?(n.extend(e,{inputs:e.inputs||h.find("input").toArray()}),t=new o(this,e)):t=new f(this,e);h.data("datepicker",t)}typeof i=="string"&&typeof t[i]=="function"&&(r=t[i].apply(t,u))}),r===t||r instanceof f||r instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");else return r};n.fn.datepicker=e;s=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if(typeof n.toValue=="function"&&typeof n.toDisplay=="function")return n;var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s,c){function et(n,t){return t===!0&&(t=10),n<100&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function ot(){var n=this.slice(0,a[l].length),t=a[l].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var p,st,tt,b;if(!e)return t;if(e instanceof Date)return e;if(typeof o=="string"&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var rt=/([\-+]\d+)([dmwy])/,a=e.match(/([\-+]\d+)([dmwy])/g),ut={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},ft={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},v,k,l,d;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<a.length;l++)v=rt.exec(a[l]),k=parseInt(v[1]),d=ut[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(typeof ft[e]!="undefined"&&(e=ft[e],a=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<a.length;l++)v=rt.exec(a[l]),k=parseInt(v[1]),d=ut[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}a=e&&e.match(this.nonpunctuation)||[];e=new Date;var g={},it=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(n,t){return n.setUTCFullYear(c?et(t,c):t)},yy:function(n,t){return n.setUTCFullYear(c?et(t,c):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},w,nt;if(y.M=y.MM=y.mm=y.m,y.dd=y.d,e=h(),p=o.parts.slice(),a.length!==p.length&&(p=n(p).filter(function(t,i){return n.inArray(i,it)!==-1}).toArray()),a.length===p.length){for(l=0,st=p.length;l<st;l++){if(w=parseInt(a[l],10),v=p[l],isNaN(w))switch(v){case"MM":nt=n(r[s].months).filter(ot);w=n.inArray(nt[0],r[s].months)+1;break;case"M":nt=n(r[s].monthsShort).filter(ot);w=n.inArray(nt[0],r[s].monthsShort)+1}g[v]=w}for(l=0;l<it.length;l++)b=it[l],b in g&&!isNaN(g[b])&&(tt=new Date(e),y[b](tt,g[b]),isNaN(tt)||(e=tt))}return e},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";if(typeof u=="string"&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);for(e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.6.4";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})});jQuery.fn.extend({addToList:function(n,t){return this.filter(":input").val(function(i,r){if(n==""||n==null||n==undefined)return r;if(r=="")return n;var u=r.split(t);return u.push(n),u.join(t)}).end()},removeFromList:function(n,t){return this.filter(":input").val(function(i,r){return n==""||n==null||n==undefined?r:$.grep(r.split(t),function(t){return t!=n}).join(t)}).end()}});var submitText="<i class='far fa-circle-notch fa-spin'><\/i> Submitting...",trackOutboundLink=function(n,t,i){typeof ga!="undefined"&&ga("send","event",n,t,i)};String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})},function(n){n.fn.formUploader=function(){var t=n(this),i=t.find("input[type='file']"),f;if(i.length){var r=!1,h=i.prop("multiple")?!0:!1,e=parseInt(i.data("size-limit")),o=i.data("size-type"),u=e*1024;if(o.toLowerCase()==="mb"&&(u*=1024),h){f=t.find(".uploads-list");const r=new DataTransfer;i.change(function(){var y=i[0].files,p=y.length,w=n.map(y,function(n){if(n.size>u)return n}),k,a,b,h;if(p-=w.length,w.length&&(k=n.map(w,function(n){return n.name+" is larger than "+e+o}).join("\n"),alert(k)),a=n.map(y,function(n){if(n.size<=u)return n}),i.data("file-limit")){var g=parseInt(i.data("file-limit")),nt=f.find(".uploaded-item").length,d=g-nt;a.length>=d&&(i.prop("disabled",!0),p=d)}for(b=[],h=0;h<p;h++)b.push(a[h]),r.items.add(a[h]);n.each(b,function(n,i){var r=i,e=v.replace(/#index#/g,r.lastModified),u;f.append(e);u=new FileReader;u.addEventListener("load",function(){var i=t.find("#"+r.lastModified),n=null;n=s.includes(r.type)?c.replace(/#url#/g,u.result):l;n=n.replace(/#filename#/g,r.name);i.html(n)},!1);u.readAsDataURL(r)});i[0].files=r.files});f.on("click",".btn-remove",function(t){t.preventDefault();var f=n(this),u=f.closest(".uploaded-item");return n.each(r.items,function(n,t){var i=t.getAsFile();if(i.lastModified==u.prop("id"))return r.items.remove(n),!1}),i[0].files=r.files,u.remove(),i.is(":disabled")&&i.prop("disabled",!1),!1})}else{i.click(function(n){if(t.find(".button-style").hasClass("hide"))return n.preventDefault(),!1;r=!0;window.addEventListener("touchstart",f,{once:!0});t.find(".upload-text").text("Loading...");t.find(".button-style").html(a)});i.change(f);i.focus(function(){r&&(r=!1,t.find(".upload-text").text("Choose File"),t.find(".button-style").text("Browse"))});t.find(".link-remove-upload").click(function(r){var f,e,u;return r.preventDefault(),f=i[0].files,e=f[0],s.includes(e.type)?(u=t.find(".img-uploaded"),u.prop("src",""),u.addClass("hide")):t.find(".file-type").addClass("hide"),i[0].value=null,t.find(".upload-text").text("Choose File"),t.find(".button-style").removeClass("hide"),n(this).addClass("hide"),n(i[0]).trigger("change"),!1});function f(){var c,f,h;if(r=!1,c=i[0].files,f=c[0],f===undefined)return t.find(".upload-text").text("Choose File"),t.find(".button-style").text("Browse"),!1;if(f.size>u)return t.find(".upload-text").text("Choose File"),t.find(".button-style").text("Browse"),i[0].value=null,alert(f.name+" is larger than "+e+o),!1;t.find(".upload-text").text(f.name);t.find(".button-style").addClass("hide");t.find(".button-style").text("Browse");h=new FileReader;h.addEventListener("load",function(){if(s.includes(f.type)){var i=t.find(".img-uploaded");n(i).prop("src",h.result);n(i).removeClass("hide")}else t.find(".file-type").removeClass("hide");t.find(".link-remove-upload").removeClass("hide")},!1);h.readAsDataURL(f)}}}const s=["image/jpeg","image/png","image/gif"];var c="<img src='#url#' /><button class='btn btn-dark btn-remove' type='button'><i class='fal fa-times'><\/i><\/button><div class='file-name'>#filename#<\/div>",l="<i class='fal fa-file-alt'><\/i><button class='btn btn-dark btn-remove' type='button'><i class='fal fa-times'><\/i><\/button><div class='file-name'>#filename#<\/div>",a="<span class='spinner-border spinner-border-sm' role='status'><\/span>",v="<div id='#index#' class='uploaded-item flexbox'><span class='spinner-border' role='status'><\/span><div class='file-name'>Loading...<\/div><\/div>"}}(jQuery);$(function(){function n(){var n=$("#price-quote");if(n.length){$("button.onoffswitch-toggle").on("click",function(){$(this).hasClass("collapsed")?$("input[name=setappointment]").val("true"):$("input[name=setappointment]").val("false")});$(".btn-schedule-appt").on("click",function(){$("input[name=chksetappointment]").prop("checked",!0);$("input[name=chksetappointment]").trigger("change")});n.formUploader();n.find("#price-quote-submit").click(function(t){function r(){var f=n.serializeArray().filter(function(n){return n.name==="tocountry"?n.value===""?!1:!0:!0}),t=new FormData,i,u,r;$.each(f,function(n,i){t.append(i.name,i.value)});t.append("convertedpage",document.location.href);t.append("currentUrl",getCurrentUrl(!0));n.find("input[type='file']").length&&(i=n.find("input[type='file']"),$.each($(i)[0].files,function(n,r){t.append($(i)[0].name,r)}),u=$.map($(i)[0].files,function(n){return n.name}).join(","),t.append("filename",u));$(".form-selected-service:checked").length&&(r=[],$.each($(".form-selected-service:checked"),function(){r.push($(this).val())}),t.append("service",r));t.has("__RequestVerificationToken")||t.append("__RequestVerificationToken",getSecToken());$.ajax({type:"POST",cache:!1,dataType:"json",url:"/ws/quote/",data:t,processData:!1,contentType:!1,success:function(t){var i,u,r;if(removeFeedback(),t.IsValid)t.Data&&t.Data.redirect?window.location=t.Data.redirect:(t.Data!=null&&(t.Data.quoteToken&&$("#quoteToken").val(t.Data.quoteToken),t.Data.activityRowKey&&$("#activityRowKey").val(t.Data.activityRowKey),t.Data.contactRowKey&&$("#contactRowKey").val(t.Data.contactRowKey),saveCookie("address",t.Data.quote.address,1,"/")),r=n.attr("action"),n.attr("action",r+(r.indexOf("?")>0?"&":"?")+"convertedpage="+encodeURIComponent(document.location.pathname)),n.submit());else{button.removeAttr("disabled");button.html("Request Your Quote");$.each(t.ErrFields,function(n,t){showValidationError(n,t,"price-quote")});i="";for(u in t.ErrFields)i+=(i==""?"":"\n")+t.ErrFields[u];alert(i)}}})}t.preventDefault();$(".error").removeClass("error");button=$(this);button.html("Submitting...");button.attr("disabled","disabled");var u=n.find("#address").length?n.find("#address").val().trim():"",i=n.find("#zip").length?n.find("#zip").val().trim():"";u!==""?populateAddressHiddenFields(u,n.find("#address").attr("data-place-id"),"address","",function(){i!==""?populateAddressHiddenFields(i,n.find("#zip").attr("data-place-id"),"(regions)","",function(){var u=n.find("#g-tozip"),t;u.val()===""&&(t=/[0-9]{5}(-[0-9]{4})?(?!.*[0-9]{5}(-[0-9]{4})?)/g.exec(i),t!==null&&t.length>0&&n.find("#g-tozip").val(t[0]));r()}):r()}):i!==""?populateAddressHiddenFields(i,n.find("#zip").attr("data-place-id"),"(regions)","",function(){var u=n.find("#g-tozip"),t;u.val()===""&&(t=/[0-9]{5}(-[0-9]{4})?(?!.*[0-9]{5}(-[0-9]{4})?)/g.exec(i),t!==null&&t.length>0&&n.find("#g-tozip").val(t[0]));r()}):r()});n.find("#address").one("focus",function(){googleAutoComplete(n,"#address","address")});n.find("#zip").one("focus",function(){googleAutoComplete(n,"#zip","(regions)")});n.find("#service").on("change",function(){var t=$(this);t.val()=="Residential Move"?(n.find(".optional-hide").hide(),n.find(".residential-group").show()):t.val()=="International Move"?(n.find(".optional-hide").hide(),n.find(".international-group").show()):n.find(".optional-hide").hide()});n.find("#service").trigger("change")}}n();initValidateFields();initMultiSelection()});